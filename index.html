
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sunwin Cao Th·ªß V2</title>
  <style>
    body {
      background-color: #111;
      color: #f5f5f5;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #00ffcc;
    }
    input, button {
      padding: 10px;
      font-size: 18px;
      margin: 5px;
      width: 90%;
      max-width: 400px;
      border-radius: 5px;
      border: none;
    }
    button {
      background-color: #00cc88;
      color: white;
      cursor: pointer;
    }
    #result, #strategy, #history {
      margin-top: 20px;
      font-size: 18px;
    }
    .footer {
      margin-top: 40px;
      font-size: 14px;
      color: #aaa;
    }
  </style>
</head>
<body>
  <h1>üéØ Sunwin Cao Th·ªß V2</h1>
  <input type="text" id="input" placeholder="Nh·∫≠p chu·ªói T/X (vd: X T T X X)">
  <input type="number" id="capital" placeholder="Nh·∫≠p s·ªë v·ªën (vd: 500000)">
  <br>
  <button onclick="analyze()">üîÆ D·ª± ƒêo√°n Cao Th·ªß</button>
  <button onclick="mark(true)">‚úÖ ƒê√∫ng</button>
  <button onclick="mark(false)">‚ùå Sai</button>
  <div id="result"></div>
  <div id="strategy"></div>
  <div id="history"></div>
  <div class="footer">Cre: Tr·∫ßn Qu·ªëc Tr·ªãnh ‚Äì Tr√πm K√©o Thu√™ Sunwin</div>

  <script>
    let historyLog = [];

    function analyze() {
      const input = document.getElementById('input').value.trim().toUpperCase().split(" ").filter(x => x === "T" || x === "X");
      const capital = parseInt(document.getElementById("capital").value);
      if (input.length < 4) {
        document.getElementById("result").innerText = "‚ùó C·∫ßn √≠t nh·∫•t 4 k·∫øt qu·∫£ g·∫ßn nh·∫•t.";
        return;
      }

      let next = "T";
      let reason = "Kh√¥ng r√µ";
      let pattern = input.slice(-5).join("");

      // Ph√¢n t√≠ch c·∫ßu n√¢ng cao
      if (input.slice(-3).every(v => v === input[input.length - 1])) {
        next = input[input.length - 1];
        reason = "C·∫ßu b·ªát m·∫°nh ‚Äì gi·ªØ h∆∞·ªõng";
      } else if (pattern.match(/T?X?T?X?/g)) {
        next = input[input.length - 1] === "T" ? "X" : "T";
        reason = "C·∫ßu 1-1 ho·∫∑c ƒë·∫£o nh·ªãp ‚Äì ƒë·∫£o chi·ªÅu";
      } else if (pattern.endsWith("XXTT") || pattern.endsWith("TTXX")) {
        next = input[input.length - 1];
        reason = "C·∫ßu 2-2 ‚Äì gi·ªØ nh·ªãp";
      } else {
        next = input[input.length - 1] === "T" ? "X" : "T";
        reason = "C·∫ßu kh√¥ng r√µ ‚Äì n√™n quan s√°t k·ªπ";
      }

      let bet = capital && !isNaN(capital) ? Math.floor(capital * 0.4).toLocaleString() + " ƒë" : "N/A";
      document.getElementById("result").innerText = `üëâ D·ª± ƒëo√°n: ${next === "T" ? "T√†i" : "X·ªâu"} (${reason})`;
      document.getElementById("strategy").innerText = `üìä G·ª£i √Ω c∆∞·ª£c: ${bet}`;

      historyLog.unshift(`[${input.join(" ")}] => ƒêo√°n: ${next}`);
      if (historyLog.length > 20) historyLog.pop();

      renderHistory();
      document.getElementById("input").value = "";
    }

    function mark(correct) {
      if (historyLog.length === 0) return;
      historyLog[0] += correct ? " ‚úÖ" : " ‚ùå";
      renderHistory();
    }

    function renderHistory() {
      document.getElementById("history").innerHTML = "<b>L·ªãch s·ª≠ d·ª± ƒëo√°n:</b><br>" + historyLog.join("<br>");
    }
  </script>
</body>
</html>
